/* app/globals.css */
@import "tailwindcss";

/* =============================================
   Tailwind v4: Class-based dark mode variant
   ============================================= */
@variant dark (&:where(.dark, .dark *));
@variant ltr (&:where([dir="ltr"], [dir="ltr"] *));
@variant rtl (&:where([dir="rtl"], [dir="rtl"] *));
@variant ur (&:where([lang="ur"], [lang="ur"] *));

/* =============================================
   Tailwind v4: Design tokens via @theme
   ============================================= */
@theme {
  /* Brand Colors */
  --color-primary: #FF2D2D;
  --color-primary-hover: #E02020;
  --color-secondary: #FF6B35;
  --color-accent: #FFB347;

  /* Status Colors */
  --color-success: #22C55E;
  --color-warning: #F59E0B;
  --color-error: #EF4444;
  --color-info: #3B82F6;

  /* Theme-aware tokens (using variables from base layer) */
  --color-dark-bg: var(--bg);
  --color-dark-surface: var(--surface);
  --color-dark-card: var(--card);
  --color-dark-border: var(--border);
  --color-dark-text: var(--text);
  --color-dark-muted: var(--muted);

  /* Literal tokens for edge cases */
  --color-true-dark: #080A0E;
  --color-true-white: #FFFFFF;

  /* Light theme tokens */
  --color-light-bg: #F5F7FF;
  --color-light-surface: #FFFFFF;
  --color-light-card: #FFFFFF;
  --color-light-border: rgba(0, 0, 0, 0.08);
  --color-light-text: #0A0F1E;
  --color-light-muted: #6B7A9A;

  /* Fonts */
  --font-display: 'Syne', sans-serif;
  --font-body: 'DM Sans', sans-serif;

  /* Gradients */
  --background-image-gradient-brand: linear-gradient(135deg, #FF2D2D 0%, #FF6B35 50%, #FFB347 100%);
  --background-image-gradient-brand-subtle: linear-gradient(135deg, rgba(255, 45, 45, 0.1) 0%, rgba(255, 107, 53, 0.05) 100%);

  /* Box shadows */
  --shadow-glow-primary: 0 0 40px rgba(255, 45, 45, 0.25);
  --shadow-glow-primary-lg: 0 0 80px rgba(255, 45, 45, 0.4);
  --shadow-card: 0 4px 24px rgba(0, 0, 0, 0.12);
  --shadow-card-hover: 0 20px 60px rgba(0, 0, 0, 0.25);
  --shadow-card-dark: 0 4px 24px rgba(0, 0, 0, 0.4);
  --shadow-card-dark-hover: 0 20px 60px rgba(0, 0, 0, 0.6);

  /* Custom animations */
  --animate-fade-up: fadeUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  --animate-fade-in: fadeIn 0.4s ease forwards;
  --animate-float: float 6s ease-in-out infinite;
  --animate-pulse-glow: pulseGlow 2s ease-in-out infinite;
  --animate-spin-slow: spin 10s linear infinite;
  --animate-blink: blink 1.5s ease-in-out infinite;
  --animate-slide-up: slideUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  --animate-loader-fill: loaderFill 2s ease-out forwards;

  /* Keyframes */
  @keyframes fadeUp {
    from {
      opacity: 0;
      transform: translateY(24px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes float {

    0%,
    100% {
      transform: translateY(0);
    }

    50% {
      transform: translateY(-12px);
    }
  }

  @keyframes pulseGlow {

    0%,
    100% {
      box-shadow: 0 0 20px rgba(255, 45, 45, 0.3);
    }

    50% {
      box-shadow: 0 0 60px rgba(255, 45, 45, 0.6);
    }
  }

  @keyframes blink {

    0%,
    100% {
      opacity: 1;
    }

    50% {
      opacity: 0.3;
    }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(40px) scale(0.95);
    }

    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes loaderFill {
    from {
      width: 0%;
    }

    to {
      width: 100%;
    }
  }
}

/* =============================================
   CSS Variables (theme-aware)
   ============================================= */
@layer base {
  :root {
    --primary: #FF2D2D;
    --secondary: #FF6B35;
    --accent: #FFB347;
    --radius: 14px;
    --ease: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  html {
    font-family: 'DM Sans', sans-serif;
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Dark theme (default) */
  html,
  html.dark {
    --bg: #080A0E;
    --surface: #0D1117;
    --card: #111720;
    --card-hover: #151E2E;
    --border: rgba(255, 255, 255, 0.07);
    --border-hover: rgba(255, 45, 45, 0.3);
    --text: #F0F4FF;
    --text-secondary: #A0AECF;
    --muted: #6B7A99;
    color-scheme: dark;

    /* Compatibility variables for code using old names */
    --dark-bg: var(--bg);
    --dark-surface: var(--surface);
    --dark-border: var(--border);
    --dark-muted: var(--muted);
    --dark-text: var(--text);
  }

  /* Light theme */
  html.light {
    --bg: #F5F7FF;
    --surface: #FFFFFF;
    --card: #FFFFFF;
    --card-hover: #F8FAFF;
    --border: rgba(0, 0, 0, 0.08);
    --border-hover: rgba(255, 45, 45, 0.2);
    --text: #0A0F1E;
    --text-secondary: #4A5568;
    --muted: #6B7A9A;
    color-scheme: light;

    /* Compatibility variables - mapped to light analogs */
    --dark-bg: var(--bg);
    --dark-surface: var(--surface);
    --dark-border: var(--border);
    --dark-muted: var(--muted);
    --dark-text: var(--text);
  }

  body {
    background-color: var(--bg);
    color: var(--text);
    transition:
      background-color 0.35s var(--ease),
      color 0.35s var(--ease);
  }

  /* Global Interactive Elements */
  a,
  button,
  [role="button"],
  input[type="submit"],
  input[type="button"],
  select {
    cursor: pointer !important;
  }

  /* RTL / Urdu Support */
  [dir="rtl"] {
    font-family: 'Noto Nastaliq Urdu', 'DM Sans', sans-serif;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(255, 45, 45, 0.3);
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 45, 45, 0.6);
  }

  /* selection */
  ::selection {
    background: rgba(255, 45, 45, 0.2);
    color: var(--text);
  }
}

/* =============================================
   Component Classes
   ============================================= */
@layer components {

  /* ── Buttons ── */
  .btn-primary {
    @apply inline-flex items-center gap-2 px-6 py-3 rounded-full font-semibold text-sm text-white transition-all duration-300 cursor-pointer select-none;
    background: linear-gradient(135deg, #FF2D2D, #FF6B35);
    box-shadow: 0 4px 20px rgba(255, 45, 45, 0.3);
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 32px rgba(255, 45, 45, 0.5);
  }

  .btn-primary:active {
    transform: translateY(0);
  }

  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
  }

  .btn-ghost {
    @apply inline-flex items-center gap-2 px-6 py-3 rounded-full font-medium text-sm transition-all duration-300 cursor-pointer select-none;
    border: 1px solid var(--border);
    color: var(--text);
    background: transparent;
  }

  .btn-ghost:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.15);
  }

  .dark .btn-ghost:hover {
    background: rgba(255, 255, 255, 0.05);
  }

  .light .btn-ghost:hover {
    background: rgba(0, 0, 0, 0.04);
    border-color: rgba(0, 0, 0, 0.15);
  }

  /* ── Cards ── */
  .card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    transition: all 0.3s var(--ease);
  }

  .card:hover {
    border-color: rgba(255, 45, 45, 0.2);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
    transform: translateY(-2px);
  }

  /* ── Glassmorphism ── */
  .glass {
    background: rgba(13, 17, 23, 0.7);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.07);
  }

  .light .glass {
    background: rgba(255, 255, 255, 0.85);
    border: 1px solid rgba(0, 0, 0, 0.08);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }

  /* ── Gradient text ── */
  .gradient-text {
    background: linear-gradient(135deg, #FF2D2D 0%, #FF6B35 50%, #FFB347 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* ── Section label ── */
  .section-label {
    @apply text-xs font-semibold uppercase tracking-[3px] mb-3;
    color: var(--primary);
  }

  /* ── Input fields ── */
  .input-field {
    @apply w-full px-4 py-3 rounded-xl text-sm font-medium outline-none transition-all duration-200;
    background: var(--surface);
    border: 1px solid var(--border);
    color: var(--text);
  }

  .input-field:focus {
    border-color: rgba(255, 45, 45, 0.5);
    box-shadow: 0 0 0 3px rgba(255, 45, 45, 0.1);
  }

  .input-field::placeholder {
    color: var(--muted);
  }

  /* ── Status badges ── */
  .badge-success {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold;
    background: rgba(34, 197, 94, 0.12);
    color: #22C55E;
    border: 1px solid rgba(34, 197, 94, 0.2);
  }

  .badge-warning {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold;
    background: rgba(245, 158, 11, 0.12);
    color: #F59E0B;
    border: 1px solid rgba(245, 158, 11, 0.2);
  }

  .badge-error {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold;
    background: rgba(239, 68, 68, 0.12);
    color: #EF4444;
    border: 1px solid rgba(239, 68, 68, 0.2);
  }

  .badge-info {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold;
    background: rgba(59, 130, 246, 0.12);
    color: #3B82F6;
    border: 1px solid rgba(59, 130, 246, 0.2);
  }

  /* ── Background patterns ── */
  .bg-grid {
    background-image:
      linear-gradient(rgba(255, 45, 45, 0.04) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 45, 45, 0.04) 1px, transparent 1px);
    background-size: 60px 60px;
  }

  .light .bg-grid {
    background-image:
      linear-gradient(rgba(255, 45, 45, 0.05) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 45, 45, 0.05) 1px, transparent 1px);
  }

  /* ── Page wrapper (theme-aware) ── */
  .page-wrapper {
    background-color: var(--bg);
    color: var(--text);
    min-height: 100vh;
  }

  /* ── Surface box (theme-aware) ── */
  .surface-box {
    background-color: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius);
  }

  /* ── Text helpers ── */
  .text-theme {
    color: var(--text);
  }

  .text-muted-theme {
    color: var(--muted);
  }

  .text-secondary-theme {
    color: var(--text-secondary);
  }

  /* ── Theme-aware compatibility shims ──
     Pages use bg-dark-bg, text-white, text-dark-muted etc.
     These shims map them to CSS variables so light theme works everywhere
     without needing to edit every individual page. */

  /* Page backgrounds */
  .bg-dark-bg {
    background-color: var(--bg) !important;
  }

  .bg-dark-surface {
    background-color: var(--surface) !important;
  }

  .bg-dark-card {
    background-color: var(--card) !important;
  }

  /* Text colors */
  .text-dark-text,
  .text-white:not(.btn-primary) {
    color: var(--text) !important;
  }

  .text-white\/60 {
    color: color-mix(in srgb, var(--text) 60%, transparent) !important;
  }

  .text-white\/80 {
    color: color-mix(in srgb, var(--text) 80%, transparent) !important;
  }

  .text-white\/90 {
    color: color-mix(in srgb, var(--text) 90%, transparent) !important;
  }

  .text-dark-muted,
  .text-dark-text-secondary,
  .text-gray-500 {
    color: var(--muted) !important;
  }

  /* Hover Text colors */
  .hover\:text-white:hover {
    color: var(--text) !important;
  }

  .hover\:text-dark-muted:hover {
    color: var(--muted) !important;
  }

  /* Hover Backgrounds */
  .hover\:bg-dark-surface:hover,
  .hover\:bg-white\/5:hover {
    background-color: var(--card-hover) !important;
  }

  .hover\:bg-dark-bg:hover {
    background-color: var(--bg) !important;
  }

  /* Borders */
  .border-dark-border {
    border-color: var(--border) !important;
  }

  .divide-dark-border>*+* {
    border-color: var(--border) !important;
  }

  /* Hover overrides for dark-surface hover */
  .hover\:bg-dark-surface\/30:hover {
    background-color: color-mix(in srgb, var(--surface) 30%, transparent) !important;
  }

  .hover\:bg-dark-surface\/50:hover {
    background-color: color-mix(in srgb, var(--surface) 50%, transparent) !important;
  }

  .bg-dark-surface\/50 {
    background-color: color-mix(in srgb, var(--surface) 50%, transparent) !important;
  }

  /* Primary color utilities */
  .text-primary {
    color: #FF2D2D !important;
  }

  .bg-primary {
    background-color: #FF2D2D !important;
  }

  .border-primary {
    border-color: #FF2D2D !important;
  }

  .text-secondary {
    color: #FF6B35 !important;
  }

  .bg-secondary {
    background-color: #FF6B35 !important;
  }

  .text-accent {
    color: #FFB347 !important;
  }

  .bg-accent {
    background-color: #FFB347 !important;
  }

  /* Status colors */
  .text-success {
    color: #22C55E !important;
  }

  .bg-success {
    background-color: #22C55E !important;
  }

  .text-warning {
    color: #F59E0B !important;
  }

  .bg-warning {
    background-color: #F59E0B !important;
  }

  .text-error {
    color: #EF4444 !important;
  }

  .bg-error {
    background-color: #EF4444 !important;
  }

  .text-info {
    color: #3B82F6 !important;
  }

  .bg-info {
    background-color: #3B82F6 !important;
  }

  /* Light/Dark mode table header fix */
  thead.bg-dark-surface\/50 {
    background-color: color-mix(in srgb, var(--surface) 50%, transparent) !important;
  }

  /* ── Noise overlay ── */
  .noise-overlay::after {
    content: "";
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 9990;
    opacity: 0.3;
  }

  /* ── Gradient utilities ── */
  .bg-gradient-brand {
    background: linear-gradient(135deg, #FF2D2D 0%, #FF6B35 50%, #FFB347 100%) !important;
  }

  .bg-gradient-brand-subtle {
    background: linear-gradient(135deg, rgba(255, 45, 45, 0.1) 0%, rgba(255, 107, 53, 0.05) 100%) !important;
  }

  /* ── Shadow utilities ── */
  .shadow-glow-primary {
    box-shadow: 0 0 40px rgba(255, 45, 45, 0.25) !important;
  }

  .shadow-glow-primary-lg {
    box-shadow: 0 0 80px rgba(255, 45, 45, 0.4) !important;
  }

  .shadow-card {
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.12) !important;
  }

  .shadow-card-hover {
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25) !important;
  }

  /* ── Font family utilities ── */
  .font-display {
    font-family: var(--font-display, 'Syne', sans-serif) !important;
  }

  .font-body {
    font-family: var(--font-body, 'DM Sans', sans-serif) !important;
  }

  /* ── Color + opacity slash variants used in pages ── */
  /* bg-primary/5, /10, /20 etc. */
  .bg-primary\/5 {
    background-color: rgba(255, 45, 45, 0.05) !important;
  }

  .bg-primary\/10 {
    background-color: rgba(255, 45, 45, 0.1) !important;
  }

  .bg-primary\/20 {
    background-color: rgba(255, 45, 45, 0.2) !important;
  }

  .hover\:bg-primary\/10:hover {
    background-color: rgba(255, 45, 45, 0.1) !important;
  }

  .hover\:bg-primary\/30:hover {
    background-color: rgba(255, 45, 45, 0.3) !important;
  }

  .border-primary\/20 {
    border-color: rgba(255, 45, 45, 0.2) !important;
  }

  .border-primary\/30 {
    border-color: rgba(255, 45, 45, 0.3) !important;
  }

  .border-primary\/50 {
    border-color: rgba(255, 45, 45, 0.5) !important;
  }

  .hover\:border-primary\/50:hover {
    border-color: rgba(255, 45, 45, 0.5) !important;
  }

  .hover\:border-primary\/30:hover {
    border-color: rgba(255, 45, 45, 0.3) !important;
  }

  /* Text opacity */
  .text-white\/80 {
    color: rgba(255, 255, 255, 0.8) !important;
  }

  .text-white\/90 {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  /* Success/warning/error opacity */
  .bg-success\/10 {
    background-color: rgba(34, 197, 94, 0.1) !important;
  }

  .bg-success\/20 {
    background-color: rgba(34, 197, 94, 0.2) !important;
  }

  .bg-success\/30 {
    background-color: rgba(34, 197, 94, 0.3) !important;
  }

  .hover\:bg-success\/30:hover {
    background-color: rgba(34, 197, 94, 0.3) !important;
  }

  .border-success\/30 {
    border-color: rgba(34, 197, 94, 0.3) !important;
  }

  .border-success\/20 {
    border-color: rgba(34, 197, 94, 0.2) !important;
  }

  .shadow-\[0_0_40px_rgba\(34\2c 197\2c 94\2c 0\.4\)\] {
    box-shadow: 0 0 40px rgba(34, 197, 94, 0.4) !important;
  }

  .bg-warning\/20 {
    background-color: rgba(245, 158, 11, 0.2) !important;
  }

  .bg-warning\/30 {
    background-color: rgba(245, 158, 11, 0.3) !important;
  }

  .hover\:bg-warning\/30:hover {
    background-color: rgba(245, 158, 11, 0.3) !important;
  }

  .border-warning\/50 {
    border-color: rgba(245, 158, 11, 0.5) !important;
  }

  .bg-error\/10 {
    background-color: rgba(239, 68, 68, 0.1) !important;
  }

  .bg-error\/20 {
    background-color: rgba(239, 68, 68, 0.2) !important;
  }

  .border-error\/20 {
    border-color: rgba(239, 68, 68, 0.2) !important;
  }

  .border-error\/30 {
    border-color: rgba(239, 68, 68, 0.3) !important;
  }

  .border-error\/50 {
    border-color: rgba(239, 68, 68, 0.5) !important;
  }

  .text-error {
    color: #EF4444 !important;
  }

  .bg-info\/20 {
    background-color: rgba(59, 130, 246, 0.2) !important;
  }

  .bg-info\/30 {
    background-color: rgba(59, 130, 246, 0.3) !important;
  }

  .hover\:bg-info\/30:hover {
    background-color: rgba(59, 130, 246, 0.3) !important;
  }

  .border-info\/50 {
    border-color: rgba(59, 130, 246, 0.5) !important;
  }

  /* l-border colors for cards */
  .border-l-primary {
    border-left-color: #FF2D2D !important;
  }

  .border-l-secondary {
    border-left-color: #FF6B35 !important;
  }

  .border-l-accent {
    border-left-color: #FFB347 !important;
  }

  /* Top border */
  .border-t-success {
    border-top-color: #22C55E !important;
  }

  .border-t-primary {
    border-top-color: #FF2D2D !important;
  }

  .border-t-secondary {
    border-top-color: #FF6B35 !important;
  }

  /* animate-shake — for error form fields */
  @keyframes shake {

    0%,
    100% {
      transform: translateX(0);
    }

    20%,
    60% {
      transform: translateX(-6px);
    }

    40%,
    80% {
      transform: translateX(6px);
    }
  }

  .animate-shake {
    animation: shake 0.5s ease-in-out;
  }

  /* drop-shadow accent */
  .drop-shadow-\[0_0_10px_rgba\(255\2c 179\2c 71\2c 0\.5\)\] {
    filter: drop-shadow(0 0 10px rgba(255, 179, 71, 0.5)) !important;
  }
}